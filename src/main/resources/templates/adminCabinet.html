<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Internet store</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

</head>
<body>

<header th:insert="block/header :: header"></header>

<div>
    <h4>Control Orders</h4>

    <div th:each="orders : ${orders}">
        <form th:action="'/adminCabinet/' + ${orders.getId()} + '/updateOrderDataBase'" method="post">
            <p th:text="${orders.getId()}"/>
            <p th:text="${orders.getData()}"/>
            <p th:text="${orders.getTotalPrice()}"/>
            <p th:text="${orders.getUser()}"/>
            <input type="text" name="city" th:value="${orders.getCity()}" placeholder="User city">
            <input type="text" name="address" th:value="${orders.getAddress()}" placeholder="User address">
            <input type="number" name="numberTel" th:value="${orders.getNumberTel()}" placeholder="User numberTel">
            <button type="submit">Update information order</button>
        </form>

        <div th:each="product : ${orders.getProducts()}">
            <form th:action="'/adminCabinet/' + ${orders.getId()} + '/' + ${product.getId()} + '/updateProductOrderDataBase'" method="post">
                <p th:text="${product}"/>
                <button type="submit">Delete product in order</button>
            </form>
        </div>

        <form th:action="'/adminCabinet/' + ${orders.getId()} + '/deleteOrderDataBase'" method="post">
            <button type="submit">Delete order</button>
        </form>
        <hr>
    </div>

</div>


    <div>
        <h4>Add product</h4>
            <form action="/adminCabinet/addProduct" method="post">
                <input type="text" name="category" placeholder="Product Category">
                <input type="text" name="producer" placeholder="Product Producer">
                <input type="text" name="model" placeholder="Product Model">
                <input type="number" name="price" placeholder="Product Price">
                <input type="text" name="description" placeholder="Product Description">
                <button type="submit">Create Product</button>
            </form>
    </div>


<div>
    <h4>Control Product</h4>

    <div th:each="product : ${products}">
        <form th:action="'/adminCabinet/' + ${product.getId()} + '/updatePrDataBase'" method="post">
            <input type="text" name="category" th:value="${product.getCategory()}" placeholder="Product Category">
            <input type="text" name="producer" th:value="${product.getProducer()}" placeholder="Product Producer">
            <input type="text" name="model" th:value="${product.getModel()}" placeholder="Product Model">
            <input type="number" name="price" th:value="${product.getPrice()}" placeholder="Product Price">
            <input th:text="${product.getId()}" type="text" name="description" th:value="${product.getDescription()}" placeholder="Product Description">
            <button type="submit">Update</button>
        </form>
        <form th:action="'/adminCabinet/' + ${product.getId()} + '/deletePrDataBase'" method="post">
            <button type="submit">Delete</button>
        </form>
    </div>

</div>


<div>
    <h4>Control User</h4>
    <div th:each="users : ${users}">
        <form th:action="'/adminCabinet/' + ${users.getId()} + '/updateUsDataBase'" method="post">
            <input type="text" name="username" th:value="${users.username}" placeholder="User email">
            <input type="text" name="role" th:text="${users.getRoles()}" value="" placeholder="User role">
            <button type="submit">Update</button>
        </form>
    </div>

</div>


</body>
</html>